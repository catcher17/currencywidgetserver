2023-04-12T01:40:56.298+04:00  INFO 6860 --- [Test worker] c.c.c.CurrencywidgetApplicationTests     : Starting CurrencywidgetApplicationTests using Java 19.0.2 with PID 6860 (started by andre in C:\Users\andre\Desktop\currencywidget)
2023-04-12T01:40:56.308+04:00  INFO 6860 --- [Test worker] c.c.c.CurrencywidgetApplicationTests     : No active profile set, falling back to 1 default profile: "default"
2023-04-12T01:40:56.958+04:00  INFO 6860 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-04-12T01:40:57.034+04:00  INFO 6860 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66 ms. Found 2 JPA repository interfaces.
2023-04-12T01:40:57.464+04:00  INFO 6860 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-04-12T01:40:57.503+04:00  INFO 6860 --- [Test worker] c.g.cloud.sql.core.CoreSocketFactory     : Connecting to Cloud SQL instance [currencywidgetserver:europe-central2:currencydatabase] via SSL socket.
2023-04-12T01:40:57.504+04:00  INFO 6860 --- [Test worker] c.g.cloud.sql.core.CoreSocketFactory     : First Cloud SQL connection, generating RSA key pair.
2023-04-12T01:40:57.540+04:00  WARN 6860 --- [Test worker] c.g.a.oauth2.DefaultCredentialsProvider  : Your application has authenticated using end user credentials from Google Cloud SDK. We recommend that most server applications use service accounts instead. If your application continues to use end user credentials from Cloud SDK, you might receive a "quota exceeded" or "API not enabled" error. For more information about service accounts, see https://cloud.google.com/docs/authentication/.
2023-04-12T01:41:00.152+04:00  INFO 6860 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6dcab9d9
2023-04-12T01:41:00.154+04:00  INFO 6860 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-04-12T01:41:00.203+04:00  INFO 6860 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-04-12T01:41:00.253+04:00  INFO 6860 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final
2023-04-12T01:41:00.260+04:00  INFO 6860 --- [HikariPool-1 connection adder] c.g.cloud.sql.core.CoreSocketFactory     : Connecting to Cloud SQL instance [currencywidgetserver:europe-central2:currencydatabase] via SSL socket.
2023-04-12T01:41:00.785+04:00  INFO 6860 --- [Test worker] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-04-12T01:41:01.316+04:00  INFO 6860 --- [HikariPool-1 connection adder] c.g.cloud.sql.core.CoreSocketFactory     : Connecting to Cloud SQL instance [currencywidgetserver:europe-central2:currencydatabase] via SSL socket.
2023-04-12T01:41:01.632+04:00  INFO 6860 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-04-12T01:41:01.646+04:00  INFO 6860 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-04-12T01:41:02.193+04:00  WARN 6860 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-04-12T01:41:02.196+04:00  INFO 6860 --- [HikariPool-1 connection adder] c.g.cloud.sql.core.CoreSocketFactory     : Connecting to Cloud SQL instance [currencywidgetserver:europe-central2:currencydatabase] via SSL socket.
2023-04-12T01:41:02.831+04:00  INFO 6860 --- [Test worker] c.c.c.CurrencywidgetApplicationTests     : Started CurrencywidgetApplicationTests in 6.842 seconds (process running for 8.382)
2023-04-12T01:41:03.078+04:00  INFO 6860 --- [HikariPool-1 connection adder] c.g.cloud.sql.core.CoreSocketFactory     : Connecting to Cloud SQL instance [currencywidgetserver:europe-central2:currencydatabase] via SSL socket.
2023-04-12T01:41:03.173+04:00  INFO 6860 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-04-12T01:41:03.176+04:00  INFO 6860 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-04-12T01:41:03.306+04:00 ERROR 6860 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'dataSourceScriptDatabaseInitializer': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220) ~[spring-beans-6.0.7.jar:6.0.7]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313) ~[spring-beans-6.0.7.jar:6.0.7]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:471) ~[spring-beans-6.0.7.jar:6.0.7]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167) ~[spring-tx-6.0.7.jar:6.0.7]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149) ~[spring-tx-6.0.7.jar:6.0.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.4.jar:3.0.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.7.jar:6.0.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.7.jar:6.0.7]
	at jdk.proxy3/jdk.proxy3.$Proxy114.findAll(Unknown Source) ~[na:na]
	at com.catcher.currencywidget.CurrencyRateService.updateCurrencyRates(CurrencyRateService.java:37) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-6.0.7.jar:6.0.7]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.0.7.jar:6.0.7]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]

2023-04-12T01:41:03.960+04:00  INFO 6860 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
